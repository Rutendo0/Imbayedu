(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1720],{1090:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var l=r(5155),s=r(2115),a=r(6874),n=r.n(a),i=r(8809);function o(){let{items:e,removeItem:t,clearWishlist:r}=(0,i.n)(),[a,o]=(0,s.useState)({}),[c,d]=(0,s.useState)(!1),u=(0,s.useMemo)(()=>e.map(e=>e.artworkId),[e]);return(0,s.useEffect)(()=>{let e=!1,t=async()=>{d(!0);try{let t={};await Promise.all(u.map(async e=>{try{let r=await fetch("/api/artworks/".concat(e),{credentials:"include"});if(!r.ok)throw Error("not ok");t[e]=await r.json()}catch(r){t[e]=null}})),e||o(t)}finally{e||d(!1)}};return u.length?t():o({}),()=>{e=!0}},[u]),(0,l.jsx)("section",{className:"py-12",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,l.jsx)("h1",{className:"text-3xl md:text-4xl font-['Playfair_Display'] font-bold text-neutral-900",children:"Your Wishlist"}),e.length>0&&(0,l.jsx)("button",{onClick:()=>r(),className:"text-sm text-red-600 hover:text-red-800",children:"Clear all"})]}),0===e.length?(0,l.jsx)("p",{className:"text-neutral-600",children:"Your wishlist is empty. Browse artworks and add favorites."}):(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(e=>{var r;let{artworkId:s}=e,i=a[s];return(0,l.jsxs)("div",{className:"border rounded-md overflow-hidden shadow-sm",children:[(0,l.jsx)("div",{className:"h-64 bg-neutral-100",children:(null==i?void 0:i.imageUrl)?(0,l.jsx)("img",{src:i.imageUrl,alt:i.title,className:"w-full h-full object-cover"}):(0,l.jsx)("div",{className:"w-full h-full flex items-center justify-center text-neutral-500",children:"Image unavailable"})}),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-1",children:null!=(r=null==i?void 0:i.title)?r:"Artwork #".concat(s)}),(0,l.jsx)("p",{className:"text-sm text-neutral-600 mb-4",children:(null==i?void 0:i.artistId)?"Artist #".concat(i.artistId):""}),(0,l.jsxs)("div",{className:"flex gap-3",children:[i?(0,l.jsx)(n(),{href:"/artworks/".concat(i.id),className:"text-[#D3A265] hover:text-neutral-900 text-sm",children:"View"}):null,(0,l.jsx)("button",{onClick:()=>t(s),className:"text-sm text-red-600 hover:text-red-800",children:"Remove"})]})]})]},s)})})]})})}},8755:(e,t,r)=>{Promise.resolve().then(r.bind(r,1090))},8809:(e,t,r)=>{"use strict";r.d(t,{n:()=>i});var l=r(2115);let s=e=>{let t,r=new Set,l=(e,l)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=l?l:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,a={setState:l,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(l,s,a);return a},a=e=>{let t=(e=>e?s(e):s)(e),r=e=>(function(e,t=e=>e){let r=l.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return l.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},n=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>n(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},i=a(((e,t)=>(r,l,s)=>{let a,i={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let l=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(l):l(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},o=!1,c=new Set,d=new Set,u=i.storage;if(!u)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...e)},l,s);let m=()=>{let e=i.partialize({...l()});return u.setItem(i.name,{state:e,version:i.version})},h=s.setState;s.setState=(e,t)=>{h(e,t),m()};let f=e((...e)=>{r(...e),m()},l,s);s.getInitialState=()=>f;let v=()=>{var e,t;if(!u)return;o=!1,c.forEach(e=>{var t;return e(null!=(t=l())?t:f)});let s=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=l())?e:f))||void 0;return n(u.getItem.bind(u))(i.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];else{if(i.migrate){let t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,n]=e;if(r(a=i.merge(n,null!=(t=l())?t:f),!0),s)return m()}).then(()=>{null==s||s(a,void 0),a=l(),o=!0,d.forEach(e=>e(a))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{i={...i,...e},e.storage&&(u=e.storage)},clearStorage:()=>{null==u||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},i.skipHydration||v(),a||f})(e=>({items:[],addItem:t=>e(e=>({items:e.items.some(e=>e.artworkId===t.artworkId)?e.items:[...e.items,t]})),removeItem:t=>e(e=>({items:e.items.filter(e=>e.artworkId!==t)})),clearWishlist:()=>e({items:[]})}),{name:"wishlist-storage"}))}},e=>{e.O(0,[6874,8441,5964,7358],()=>e(e.s=8755)),_N_E=e.O()}]);