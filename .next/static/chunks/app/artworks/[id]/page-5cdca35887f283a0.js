(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1456],{238:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},1976:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2538:(e,t,r)=>{"use strict";r.d(t,{e:()=>o,_:()=>d});var a=r(5155),s=r(2115);async function i(e){if(!e.ok){let t=await e.text()||e.statusText;throw Error("".concat(e.status,": ").concat(t))}}async function n(e,t,r){let a=await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"});return await i(a),a}new(r(432)).E({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:r}=e,a=await fetch(r[0],{credentials:"include"});return"returnNull"===t&&401===a.status?null:(await i(a),await a.json())}})({on401:"throw"}),staleTime:3e5,refetchOnWindowFocus:!1,retry:1,refetchInterval:!1},mutations:{retry:!1}}});var l=r(5691);let c=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),{toast:m}=(0,l.dj)();(0,s.useEffect)(()=>{(async()=>{try{d(!0);let e=await fetch("".concat("","/api/cart/").concat(1,"/details"),{credentials:"include"});if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Error fetching cart items:",e),m({title:"Error",description:"Failed to load your cart items. Please try again.",variant:"destructive"})}finally{d(!1)}})()},["",m,1]);let u=async e=>{try{d(!0);let t=await n("POST","".concat("","/api/cart"),e);await t.json();let r=await fetch("".concat("","/api/cart/").concat(1,"/details"),{credentials:"include"});if(r.ok){let e=await r.json();i(e)}}catch(e){console.error("Error adding item to cart:",e),m({title:"Error",description:"Failed to add item to your cart. Please try again.",variant:"destructive"})}finally{d(!1)}},x=async e=>{try{d(!0),await n("DELETE","".concat("","/api/cart/").concat(e)),i(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error removing item from cart:",e),m({title:"Error",description:"Failed to remove item from your cart. Please try again.",variant:"destructive"})}finally{d(!1)}},h=async(e,t)=>{try{d(!0),await n("PATCH","".concat("","/api/cart/").concat(e),{quantity:t}),i(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))}catch(e){console.error("Error updating cart item quantity:",e),m({title:"Error",description:"Failed to update item quantity. Please try again.",variant:"destructive"})}finally{d(!1)}},p=async()=>{try{d(!0),await n("DELETE","".concat("","/api/cart?userId=").concat(1)),i([])}catch(e){console.error("Error clearing cart:",e),m({title:"Error",description:"Failed to clear your cart. Please try again.",variant:"destructive"})}finally{d(!1)}};return(0,a.jsx)(c.Provider,{value:{cartItems:r,cartItemsWithDetails:r,addItem:u,removeItem:x,updateItemQuantity:h,clearCart:p,isLoading:o},children:t})},d=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i,vv:()=>n});var a=r(2596),s=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}function n(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}},4616:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5691:(e,t,r)=>{"use strict";r.d(t,{dj:()=>m});var a=r(2115);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=[],c={toasts:[]};function o(e){c=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?n(r):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,r=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>o({type:"DISMISS_TOAST",toastId:r});return o({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||a()}}}),{id:r,dismiss:a,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function m(){let[e,t]=a.useState(c);return a.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},6516:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(5155),s=r(2115),i=r(9708),n=r(2085),l=r(3999);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:o=!1,...d}=e,m=o?i.DX:"button";return(0,a.jsx)(m,{className:(0,l.cn)(c({variant:s,size:n,className:r})),ref:t,...d})});o.displayName="Button"},7292:(e,t,r)=>{Promise.resolve().then(r.bind(r,8775))},7712:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},8775:(e,t,r)=>{"use strict";r.d(t,{default:()=>f});var a=r(5155),s=r(2115),i=r(2960),n=r(5695),l=r(6874),c=r.n(l),o=r(7168),d=r(2538),m=r(5691),u=r(238),x=r(7712),h=r(4616),p=r(1976),g=r(6516),v=r(8809);let f=()=>{var e,t,r,l,f,y,j;let{id:b}=(0,n.useParams)(),[N,w]=(0,s.useState)(1),{addItem:k}=(0,d._)(),{toast:S}=(0,m.dj)(),{addItem:A}=(0,v.n)(),{data:E,isLoading:I,error:T}=(0,i.I)({queryKey:["artwork",b],queryFn:async()=>{if(!b)throw Error("No artwork ID provided");let e=await fetch("/api/artworks/".concat(b));if(!e.ok)throw Error("Failed to fetch artwork: ".concat(e.statusText));return e.json()},retry:3,retryDelay:e=>Math.min(1e3*e,5e3)});return I?(0,a.jsx)("div",{className:"pt-24 md:pt-32",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 h-[500px]"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"animate-pulse h-8 bg-gray-200 rounded mb-4 w-3/4"}),(0,a.jsx)("div",{className:"animate-pulse h-6 bg-gray-200 rounded mb-6 w-1/2"}),(0,a.jsx)("div",{className:"animate-pulse h-6 bg-gray-200 rounded mb-8 w-1/4"}),(0,a.jsx)("div",{className:"animate-pulse h-32 bg-gray-200 rounded mb-6"}),(0,a.jsx)("div",{className:"animate-pulse h-10 bg-gray-200 rounded mb-4"}),(0,a.jsx)("div",{className:"animate-pulse h-10 bg-gray-200 rounded mb-4"})]})]})})}):T||!E?(0,a.jsx)("div",{className:"pt-24 md:pt-32",children:(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Artwork not found"}),(0,a.jsx)("p",{className:"mb-6",children:"The artwork you're looking for doesn't exist or has been removed."}),(0,a.jsx)(c(),{href:"/artworks",children:(0,a.jsx)(o.$,{children:"Browse Artworks"})})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"pt-24 md:pt-32",children:[(0,a.jsx)("div",{className:"bg-gray-50 py-4 border-b border-gray-100",children:(0,a.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("nav",{className:"flex text-sm",children:[(0,a.jsx)(c(),{href:"/",className:"text-neutral-500 hover:text-[#D3A265]",children:"Home"}),(0,a.jsx)("span",{className:"mx-2 text-neutral-400",children:"/"}),(0,a.jsx)(c(),{href:"/artworks",className:"text-neutral-500 hover:text-[#D3A265]",children:"Artworks"}),(0,a.jsx)("span",{className:"mx-2 text-neutral-400",children:"/"}),(0,a.jsx)("span",{className:"text-neutral-800",children:E.title})]})})}),(0,a.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("div",{className:"bg-white p-2 shadow-lg mb-6",children:(0,a.jsx)("div",{className:"bg-gray-50 flex items-center justify-center p-4",children:(0,a.jsx)("img",{src:(null==(e=E.imageUrl)?void 0:e.startsWith("/"))?E.imageUrl:"/".concat(E.imageUrl),alt:E.title,className:"max-w-full max-h-[600px] object-contain",onError:e=>{let t=e.target;t.onerror=null,t.src="https://via.placeholder.com/600x800?text=Image+Not+Available"}})})}),!(0===E.price||(null==(t=E.description)?void 0:t.includes("[GIFT]")))&&(0,a.jsxs)("div",{className:"bg-gray-50 p-6 rounded-md",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-4 text-neutral-800",children:"Artwork Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:[E.medium&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Medium"}),(0,a.jsx)("p",{className:"text-neutral-600",children:E.medium})]}),E.dimensions&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Dimensions"}),(0,a.jsx)("p",{className:"text-neutral-600",children:E.dimensions})]}),E.year&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Year"}),(0,a.jsx)("p",{className:"text-neutral-600",children:E.year})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Category"}),(0,a.jsx)("p",{className:"text-neutral-600",children:E.category.name})]}),E.collection&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Collection"}),(0,a.jsx)("p",{className:"text-neutral-600",children:E.collection.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Availability"}),(0,a.jsx)("p",{className:"text-neutral-600",children:E.inStock?"In Stock":"Sold Out"})]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl md:text-4xl font-['Playfair_Display'] font-bold text-neutral-900 mb-2",children:E.title}),(0,a.jsxs)("div",{className:"flex items-center mb-5",children:[E.artist?(0,a.jsx)(c(),{href:"/artists/".concat(E.artist.id),className:"text-lg text-neutral-700 hover:text-[#D3A265] inline-block",children:E.artist.name}):(0,a.jsx)("span",{className:"text-lg text-neutral-700",children:0===E.price?"Gift to Community":"Unknown Artist"}),(null==(r=E.artist)?void 0:r.location)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"mx-2 text-neutral-400",children:"•"}),(0,a.jsx)("span",{className:"text-neutral-500",children:E.artist.location})]})]}),(0,a.jsx)("div",{className:"flex items-center mb-10",children:0===E.price||(null==(l=E.description)?void 0:l.includes("[GIFT]"))?(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("span",{className:"text-2xl font-bold text-amber-600 bg-amber-50 px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,a.jsx)(u.A,{size:24}),"Gift to Collective"]}),(0,a.jsx)("span",{className:"text-lg text-neutral-600",children:"Not Available for Purchase"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{className:"text-4xl font-bold ".concat(E.inStock?"text-neutral-900":"text-neutral-500"),children:["$",E.price.toLocaleString()]}),!E.inStock&&(0,a.jsx)("span",{className:"ml-4 text-lg font-medium text-red-600 bg-red-100 px-3 py-1 rounded",children:"Sold Out"})]})}),(0,a.jsx)("div",{className:"mb-10",children:(0,a.jsx)("p",{className:"text-neutral-700 mb-6 leading-relaxed",children:E.description})}),(0,a.jsxs)("div",{className:"bg-gray-50 p-6 mb-8 rounded-md",children:[(0,a.jsx)("h2",{className:"text-lg font-medium mb-6 text-neutral-800",children:"Purchase Options"}),(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsx)("span",{className:"mr-4 text-neutral-700",children:"Quantity:"}),(0,a.jsxs)("div",{className:"flex items-center border border-gray-300 rounded",children:[(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{N>1&&w(N-1)},className:"h-10 w-10 rounded-none",children:(0,a.jsx)(x.A,{size:16})}),(0,a.jsx)("span",{className:"w-10 text-center",children:N}),(0,a.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{w(N+1)},className:"h-10 w-10 rounded-none",children:(0,a.jsx)(h.A,{size:16})})]})]}),!(0===E.price||(null==(f=E.description)?void 0:f.includes("[GIFT]")))&&(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,a.jsx)(o.$,{className:"bg-[#D3A265] hover:bg-[#C29255] text-white px-8 py-6 h-auto rounded",onClick:()=>{E&&(k({artworkId:E.id,userId:1,quantity:N}),S({title:"Added to cart",description:"".concat(E.title," has been added to your cart.")}))},disabled:!E.inStock,children:E.inStock?"Add to Cart":"Sold Out"}),(0,a.jsxs)(o.$,{variant:"outline",className:"border-neutral-900 text-neutral-900 hover:bg-neutral-100 px-8 py-6 h-auto rounded",onClick:()=>{E&&(A({artworkId:E.id,userId:1}),S({title:"Added to wishlist",description:"".concat(E.title," has been added to your wishlist.")}))},children:[(0,a.jsx)(p.A,{size:18,className:"mr-2"}),"Add to Wishlist"]})]}),(0,a.jsx)("p",{className:"text-sm text-neutral-500 italic mt-4",children:"This artwork ships with a certificate of authenticity. Free shipping on orders over $500."})]}),(0,a.jsx)("div",{className:"flex items-center mb-10",children:(0,a.jsxs)(o.$,{variant:"ghost",className:"text-neutral-600 hover:text-neutral-900 p-0",children:[(0,a.jsx)(g.A,{size:18,className:"mr-2"}),"Share this Artwork"]})}),E.artist&&(0,a.jsxs)("div",{className:"bg-white p-6 border border-gray-100 rounded-md",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("img",{src:(null==(y=E.artist.imageUrl)?void 0:y.startsWith("/"))?E.artist.imageUrl:"/".concat(E.artist.imageUrl),alt:E.artist.name,className:"w-14 h-14 object-cover rounded-full",onError:e=>{let t=e.target;t.onerror=null,t.src="https://via.placeholder.com/56x56?text=Artist"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-neutral-900",children:E.artist.name}),E.artist.location&&(0,a.jsx)("p",{className:"text-sm text-neutral-500",children:E.artist.location})]})]}),(0,a.jsx)(c(),{href:"/artists/".concat(E.artist.id),className:"text-[#D3A265] font-medium hover:text-neutral-900 transition duration-300 text-sm",children:"View Artist Profile →"})]})]})]}),E.artist&&(0,a.jsxs)("div",{className:"mt-16 py-10 border-t border-gray-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-['Playfair_Display'] font-bold text-neutral-900 mb-6",children:"About the Artist"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[(0,a.jsxs)("div",{className:"md:col-span-1",children:[(0,a.jsx)("img",{src:(null==(j=E.artist.imageUrl)?void 0:j.startsWith("/"))?E.artist.imageUrl:"/".concat(E.artist.imageUrl),alt:E.artist.name,className:"w-full aspect-square object-cover rounded-md mb-4",onError:e=>{let t=e.target;t.onerror=null,t.src="https://via.placeholder.com/300x300?text=Artist"}}),(0,a.jsx)("h3",{className:"text-xl font-medium text-neutral-900 mb-1",children:E.artist.name}),E.artist.location&&(0,a.jsx)("p",{className:"text-neutral-500 mb-3",children:E.artist.location}),(0,a.jsx)(c(),{href:"/artists/".concat(E.artist.id),className:"text-[#D3A265] font-medium hover:text-neutral-900 transition duration-300",children:"View Full Profile"})]}),(0,a.jsx)("div",{className:"md:col-span-3",children:(0,a.jsx)("p",{className:"text-neutral-700 leading-relaxed",children:E.artist.bio})})]})]})]})]})})}},8809:(e,t,r)=>{"use strict";r.d(t,{n:()=>l});var a=r(2115);let s=e=>{let t,r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,i={setState:a,getState:s,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(a,s,i);return i},i=e=>{let t=(e=>e?s(e):s)(e),r=e=>(function(e,t=e=>e){let r=a.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return a.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},n=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>n(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>n(t)(e)}}},l=(e=>e?i(e):i)()(((e,t)=>(r,a,s)=>{let i,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),s=null!=(t=r.getItem(e))?t:null;return s instanceof Promise?s.then(a):a(s)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},c=!1,o=new Set,d=new Set,m=l.storage;if(!m)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),r(...e)},a,s);let u=()=>{let e=l.partialize({...a()});return m.setItem(l.name,{state:e,version:l.version})},x=s.setState;s.setState=(e,t)=>{x(e,t),u()};let h=e((...e)=>{r(...e),u()},a,s);s.getInitialState=()=>h;let p=()=>{var e,t;if(!m)return;c=!1,o.forEach(e=>{var t;return e(null!=(t=a())?t:h)});let s=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=a())?e:h))||void 0;return n(m.getItem.bind(m))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;let[s,n]=e;if(r(i=l.merge(n,null!=(t=a())?t:h),!0),s)return u()}).then(()=>{null==s||s(i,void 0),i=a(),c=!0,d.forEach(e=>e(i))}).catch(e=>{null==s||s(void 0,e)})};return s.persist={setOptions:e=>{l={...l,...e},e.storage&&(m=e.storage)},clearStorage:()=>{null==m||m.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>p(),hasHydrated:()=>c,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},l.skipHydration||p(),i||h})(e=>({items:[],addItem:t=>e(e=>({items:e.items.some(e=>e.artworkId===t.artworkId)?e.items:[...e.items,t]})),removeItem:t=>e(e=>({items:e.items.filter(e=>e.artworkId!==t)})),clearWishlist:()=>e({items:[]})}),{name:"wishlist-storage"}))}},e=>{e.O(0,[6874,4201,9853,2960,8229,8441,5964,7358],()=>e(e.s=7292)),_N_E=e.O()}]);