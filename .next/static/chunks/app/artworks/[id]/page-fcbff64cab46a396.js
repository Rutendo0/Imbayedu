(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1456],{88:(e,t,a)=>{"use strict";a.d(t,{e:()=>o,_:()=>d});var r=a(5155),s=a(2115);async function i(e){if(!e.ok){let t=await e.text()||e.statusText;throw Error("".concat(e.status,": ").concat(t))}}async function n(e,t,a){let r=await fetch(t,{method:e,headers:a?{"Content-Type":"application/json"}:{},body:a?JSON.stringify(a):void 0,credentials:"include"});return await i(r),r}new(a(432)).E({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:a}=e,r=await fetch(a[0],{credentials:"include"});return"returnNull"===t&&401===r.status?null:(await i(r),await r.json())}})({on401:"throw"}),staleTime:3e5,refetchOnWindowFocus:!1,retry:1,refetchInterval:!1},mutations:{retry:!1}}});var l=a(3580);let c=(0,s.createContext)(void 0),o=e=>{let{children:t}=e,[a,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),{toast:m}=(0,l.dj)();(0,s.useEffect)(()=>{(async()=>{try{d(!0);let e=await fetch("".concat("","/api/cart/").concat(1,"/details"),{credentials:"include"});if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Error fetching cart items:",e),m({title:"Error",description:"Failed to load your cart items. Please try again.",variant:"destructive"})}finally{d(!1)}})()},["",m,1]);let x=async e=>{try{d(!0);let t=await n("POST","".concat("","/api/cart"),e);await t.json();let a=await fetch("".concat("","/api/cart/").concat(1,"/details"),{credentials:"include"});if(a.ok){let e=await a.json();i(e)}}catch(e){console.error("Error adding item to cart:",e),m({title:"Error",description:"Failed to add item to your cart. Please try again.",variant:"destructive"})}finally{d(!1)}},u=async e=>{try{d(!0),await n("DELETE","".concat("","/api/cart/").concat(e)),i(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Error removing item from cart:",e),m({title:"Error",description:"Failed to remove item from your cart. Please try again.",variant:"destructive"})}finally{d(!1)}},h=async(e,t)=>{try{d(!0),await n("PATCH","".concat("","/api/cart/").concat(e),{quantity:t}),i(a=>a.map(a=>a.id===e?{...a,quantity:t}:a))}catch(e){console.error("Error updating cart item quantity:",e),m({title:"Error",description:"Failed to update item quantity. Please try again.",variant:"destructive"})}finally{d(!1)}},p=async()=>{try{d(!0),await n("DELETE","".concat("","/api/cart/user/").concat(1)),i([])}catch(e){console.error("Error clearing cart:",e),m({title:"Error",description:"Failed to clear your cart. Please try again.",variant:"destructive"})}finally{d(!1)}};return(0,r.jsx)(c.Provider,{value:{cartItems:a,cartItemsWithDetails:a,addItem:x,removeItem:u,updateItemQuantity:h,clearCart:p,isLoading:o},children:t})},d=()=>{let e=(0,s.useContext)(c);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},238:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},1976:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3580:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var r=a(2115);let s=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=[],c={toasts:[]};function o(e){c=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(c,e),l.forEach(e=>{e(c)})}function d(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=r.useState(c);return r.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},3999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>i,vv:()=>n});var r=a(2596),s=a(9688);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.QP)((0,r.$)(t))}function n(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}},4531:(e,t,a)=>{Promise.resolve().then(a.bind(a,8775))},4616:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5695:(e,t,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},6516:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},7168:(e,t,a)=>{"use strict";a.d(t,{$:()=>o});var r=a(5155),s=a(2115),i=a(9708),n=a(2085),l=a(3999);let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:o=!1,...d}=e,m=o?i.DX:"button";return(0,r.jsx)(m,{className:(0,l.cn)(c({variant:s,size:n,className:a})),ref:t,...d})});o.displayName="Button"},7712:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(9946).A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},8775:(e,t,a)=>{"use strict";a.d(t,{default:()=>v});var r=a(5155),s=a(2115),i=a(2960),n=a(5695),l=a(6874),c=a.n(l),o=a(7168),d=a(88),m=a(3580),x=a(238),u=a(7712),h=a(4616),p=a(1976),g=a(6516);let v=()=>{var e,t,a,l,v;let{id:f}=(0,n.useParams)(),[y,j]=(0,s.useState)(1),{addItem:b}=(0,d._)(),{toast:N}=(0,m.dj)(),{data:w,isLoading:k,error:A}=(0,i.I)({queryKey:["artwork",f],queryFn:async()=>{if(!f)throw Error("No artwork ID provided");let e=await fetch("/api/artworks/".concat(f));if(!e.ok)throw Error("Failed to fetch artwork: ".concat(e.statusText));return e.json()},retry:3,retryDelay:e=>Math.min(1e3*e,5e3)});return k?(0,r.jsx)("div",{className:"pt-24 md:pt-32",children:(0,r.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,r.jsx)("div",{className:"animate-pulse bg-gray-200 h-[500px]"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"animate-pulse h-8 bg-gray-200 rounded mb-4 w-3/4"}),(0,r.jsx)("div",{className:"animate-pulse h-6 bg-gray-200 rounded mb-6 w-1/2"}),(0,r.jsx)("div",{className:"animate-pulse h-6 bg-gray-200 rounded mb-8 w-1/4"}),(0,r.jsx)("div",{className:"animate-pulse h-32 bg-gray-200 rounded mb-6"}),(0,r.jsx)("div",{className:"animate-pulse h-10 bg-gray-200 rounded mb-4"}),(0,r.jsx)("div",{className:"animate-pulse h-10 bg-gray-200 rounded mb-4"})]})]})})}):A||!w?(0,r.jsx)("div",{className:"pt-24 md:pt-32",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Artwork not found"}),(0,r.jsx)("p",{className:"mb-6",children:"The artwork you're looking for doesn't exist or has been removed."}),(0,r.jsx)(c(),{href:"/artworks",children:(0,r.jsx)(o.$,{children:"Browse Artworks"})})]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"pt-24 md:pt-32",children:[(0,r.jsx)("div",{className:"bg-gray-50 py-4 border-b border-gray-100",children:(0,r.jsx)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("nav",{className:"flex text-sm",children:[(0,r.jsx)(c(),{href:"/",className:"text-neutral-500 hover:text-[#D3A265]",children:"Home"}),(0,r.jsx)("span",{className:"mx-2 text-neutral-400",children:"/"}),(0,r.jsx)(c(),{href:"/artworks",className:"text-neutral-500 hover:text-[#D3A265]",children:"Artworks"}),(0,r.jsx)("span",{className:"mx-2 text-neutral-400",children:"/"}),(0,r.jsx)("span",{className:"text-neutral-800",children:w.title})]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-16",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("div",{className:"bg-white p-2 shadow-lg mb-6",children:(0,r.jsx)("div",{className:"bg-gray-50 flex items-center justify-center p-4",children:(0,r.jsx)("img",{src:(null==(e=w.imageUrl)?void 0:e.startsWith("/"))?w.imageUrl:"/".concat(w.imageUrl),alt:w.title,className:"max-w-full max-h-[600px] object-contain",onError:e=>{let t=e.target;t.onerror=null,t.src="https://via.placeholder.com/600x800?text=Image+Not+Available"}})})}),!(0===w.price||(null==(t=w.description)?void 0:t.includes("[GIFT]")))&&(0,r.jsxs)("div",{className:"bg-gray-50 p-6 rounded-md",children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-4 text-neutral-800",children:"Artwork Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-4",children:[w.medium&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Medium"}),(0,r.jsx)("p",{className:"text-neutral-600",children:w.medium})]}),w.dimensions&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Dimensions"}),(0,r.jsx)("p",{className:"text-neutral-600",children:w.dimensions})]}),w.year&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Year"}),(0,r.jsx)("p",{className:"text-neutral-600",children:w.year})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Category"}),(0,r.jsx)("p",{className:"text-neutral-600",children:w.category.name})]}),w.collection&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Collection"}),(0,r.jsx)("p",{className:"text-neutral-600",children:w.collection.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-neutral-900 uppercase tracking-wide",children:"Availability"}),(0,r.jsx)("p",{className:"text-neutral-600",children:w.inStock?"In Stock":"Sold Out"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl md:text-4xl font-['Playfair_Display'] font-bold text-neutral-900 mb-2",children:w.title}),(0,r.jsxs)("div",{className:"flex items-center mb-5",children:[w.artist?(0,r.jsx)(c(),{href:"/artists/".concat(w.artist.id),className:"text-lg text-neutral-700 hover:text-[#D3A265] inline-block",children:w.artist.name}):(0,r.jsx)("span",{className:"text-lg text-neutral-700",children:"Unknown Artist"}),(null==(a=w.artist)?void 0:a.location)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"mx-2 text-neutral-400",children:"•"}),(0,r.jsx)("span",{className:"text-neutral-500",children:w.artist.location})]})]}),(0,r.jsx)("div",{className:"flex items-center mb-10",children:0===w.price||(null==(l=w.description)?void 0:l.includes("[GIFT]"))?(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("span",{className:"text-2xl font-bold text-amber-600 bg-amber-50 px-4 py-2 rounded-lg flex items-center gap-2",children:[(0,r.jsx)(x.A,{size:24}),"Gift to Collective"]}),(0,r.jsx)("span",{className:"text-lg text-neutral-600",children:"Not Available for Purchase"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"text-4xl font-bold ".concat(w.inStock?"text-neutral-900":"text-neutral-500"),children:["$",w.price.toLocaleString()]}),!w.inStock&&(0,r.jsx)("span",{className:"ml-4 text-lg font-medium text-red-600 bg-red-100 px-3 py-1 rounded",children:"Sold Out"})]})}),(0,r.jsx)("div",{className:"mb-10",children:(0,r.jsx)("p",{className:"text-neutral-700 mb-6 leading-relaxed",children:w.description})}),(0,r.jsxs)("div",{className:"bg-gray-50 p-6 mb-8 rounded-md",children:[(0,r.jsx)("h2",{className:"text-lg font-medium mb-6 text-neutral-800",children:"Purchase Options"}),(0,r.jsxs)("div",{className:"flex items-center mb-6",children:[(0,r.jsx)("span",{className:"mr-4 text-neutral-700",children:"Quantity:"}),(0,r.jsxs)("div",{className:"flex items-center border border-gray-300 rounded",children:[(0,r.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{y>1&&j(y-1)},className:"h-10 w-10 rounded-none",children:(0,r.jsx)(u.A,{size:16})}),(0,r.jsx)("span",{className:"w-10 text-center",children:y}),(0,r.jsx)(o.$,{variant:"ghost",size:"icon",onClick:()=>{j(y+1)},className:"h-10 w-10 rounded-none",children:(0,r.jsx)(h.A,{size:16})})]})]}),!(0===w.price||(null==(v=w.description)?void 0:v.includes("[GIFT]")))&&(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:[(0,r.jsx)(o.$,{className:"bg-[#D3A265] hover:bg-[#C29255] text-white px-8 py-6 h-auto rounded",onClick:()=>{w&&(b({artworkId:w.id,userId:1,quantity:y}),N({title:"Added to cart",description:"".concat(w.title," has been added to your cart.")}))},disabled:!w.inStock,children:w.inStock?"Add to Cart":"Sold Out"}),(0,r.jsxs)(o.$,{variant:"outline",className:"border-neutral-900 text-neutral-900 hover:bg-neutral-100 px-8 py-6 h-auto rounded",onClick:()=>{w&&N({title:"Added to wishlist",description:"".concat(w.title," has been added to your wishlist.")})},children:[(0,r.jsx)(p.A,{size:18,className:"mr-2"}),"Add to Wishlist"]})]}),(0,r.jsx)("p",{className:"text-sm text-neutral-500 italic mt-4",children:"This artwork ships with a certificate of authenticity. Free shipping on orders over $500."})]}),(0,r.jsx)("div",{className:"flex items-center mb-10",children:(0,r.jsxs)(o.$,{variant:"ghost",className:"text-neutral-600 hover:text-neutral-900 p-0",children:[(0,r.jsx)(g.A,{size:18,className:"mr-2"}),"Share this Artwork"]})}),w.artist&&(0,r.jsxs)("div",{className:"bg-white p-6 border border-gray-100 rounded-md",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("img",{src:w.artist.imageUrl?"/".concat(w.artist.imageUrl):"https://via.placeholder.com/56x56?text=Artist",alt:w.artist.name,className:"w-14 h-14 object-cover rounded-full",onError:e=>{let t=e.target;t.onerror=null,t.src="https://via.placeholder.com/56x56?text=Artist"}}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-neutral-900",children:w.artist.name}),w.artist.location&&(0,r.jsx)("p",{className:"text-sm text-neutral-500",children:w.artist.location})]})]}),(0,r.jsx)(c(),{href:"/artists/".concat(w.artist.id),className:"text-[#D3A265] font-medium hover:text-neutral-900 transition duration-300 text-sm",children:"View Artist Profile →"})]})]})]}),w.artist&&(0,r.jsxs)("div",{className:"mt-16 py-10 border-t border-gray-200",children:[(0,r.jsx)("h2",{className:"text-2xl font-['Playfair_Display'] font-bold text-neutral-900 mb-6",children:"About the Artist"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-10",children:[(0,r.jsxs)("div",{className:"md:col-span-1",children:[(0,r.jsx)("img",{src:w.artist.imageUrl?"/".concat(w.artist.imageUrl):"https://via.placeholder.com/300x300?text=Artist",alt:w.artist.name,className:"w-full aspect-square object-cover rounded-md mb-4",onError:e=>{let t=e.target;t.onerror=null,t.src="https://via.placeholder.com/300x300?text=Artist"}}),(0,r.jsx)("h3",{className:"text-xl font-medium text-neutral-900 mb-1",children:w.artist.name}),w.artist.location&&(0,r.jsx)("p",{className:"text-neutral-500 mb-3",children:w.artist.location}),(0,r.jsx)(c(),{href:"/artists/".concat(w.artist.id),className:"text-[#D3A265] font-medium hover:text-neutral-900 transition duration-300",children:"View Full Profile"})]}),(0,r.jsx)("div",{className:"md:col-span-3",children:(0,r.jsx)("p",{className:"text-neutral-700 leading-relaxed",children:w.artist.bio})})]})]})]})]})})}}},e=>{e.O(0,[4201,6874,9853,2960,8229,8441,5964,7358],()=>e(e.s=4531)),_N_E=e.O()}]);